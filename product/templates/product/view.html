{% extends 'base.html' %}

{% block title %} {{ product.title }} {% endblock %}

{% block content %}

    <div class="container">
        
        <h1 class="my-3">{{ product.title }}</h1>

        <div class="row g-2">
            <div class="col-md-6">
                <div class="p-3 border bg-light text-center">
                    <img src="{{ product.image.url }}" style="max-width:100%" />
                </div>
                <div class="p-3 mt-2 border bg-light">
                    {{ product.description }}
                </div>
            </div>
            <div class="col-md-6 d-sm-none">
                <div class="p-3 border bg-light">
                    {% for item in items %}
                    <div>                        
                        <div class="d-flex justify-content-between">
                            <div>{{ item.reseller.name }}</div>
                            <div>{{ item.price_locale }}</div>
                        </div>                            
                        <a href="tel:{{ item.reseller.phone }}">{{ item.reseller.phone }}</a>
                        <hr class="my-4" />
                    </div>
                    {% endfor %}
                </div>
            </div>
            <div class="col-md-6 d-none d-sm-block">
                <div class="p-3 border bg-light" style="overflow-x: scroll;">
                    <table class="table">
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Reseller</th>
                            <th scope="col">Price</th>
                            <th scope="col">Phone</th>
                            <th scope="col" class="text-center">Buy Online</th>                            
                        </tr>
                        {% for item in items %}
                        <tr>
                            <th scope="row">{{ forloop.counter }}</th>
                            <td>{{ item.reseller.name }}</td>
                            <td data-price="{{ item.price }}">{{ item.price_locale }}</td>
                            <td><a href="tel:{{ item.reseller.phone }}">{{ item.reseller.phone }}</a></td>
                            <td class="text-center d-flex justify-content-evenly">
                                {% if item.url %}
                                <a href="{{ item.url }}" target="_blank" title="{{ item.offers }}">Buy Now</a>
                                {% endif %}
                                {% if item.offers %}
                                    <div style="width:25px; height: 25px">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50.92 50.92" x="0px" y="0px"><title>{{ item.offers }}</title><g data-name="Layer 2"><g data-name="Layer 1"><path d="M31.86,50.92a1.5,1.5,0,0,1-1.33-.8l-4.78-8.59a.31.31,0,0,0-.29-.17.31.31,0,0,0-.29.17l-4.78,8.59a1.54,1.54,0,0,1-2.88-.77l.17-9.83a.32.32,0,0,0-.17-.29.33.33,0,0,0-.34,0L8.74,44.29a1.54,1.54,0,0,1-2.11-2.11l5.06-8.43a.33.33,0,0,0,0-.34.34.34,0,0,0-.29-.17h0l-9.83.16h0a1.53,1.53,0,0,1-.75-2.87l8.6-4.78a.33.33,0,0,0,0-.58L.79,20.39a1.53,1.53,0,0,1-.74-1.74,1.57,1.57,0,0,1,1.51-1.14l9.83.17h0a.34.34,0,0,0,.29-.17.33.33,0,0,0,0-.34L6.63,8.74A1.54,1.54,0,0,1,8.74,6.63l8.43,5.06a.33.33,0,0,0,.34,0,.34.34,0,0,0,.17-.3l-.17-9.83A1.54,1.54,0,0,1,20.39.79l4.78,8.6a.33.33,0,0,0,.29.17.34.34,0,0,0,.29-.17L30.53.79a1.53,1.53,0,0,1,2.87.77l-.16,9.83a.34.34,0,0,0,.17.3.33.33,0,0,0,.34,0l8.43-5.06a1.51,1.51,0,0,1,1.88.23,1.54,1.54,0,0,1,.23,1.88l-5.06,8.43a.33.33,0,0,0,0,.34.41.41,0,0,0,.29.17l9.83-.17a1.57,1.57,0,0,1,1.51,1.14,1.51,1.51,0,0,1-.74,1.74l-8.59,4.78a.31.31,0,0,0-.17.29.31.31,0,0,0,.17.29l8.59,4.78a1.53,1.53,0,0,1-.77,2.87l-9.83-.16h0a.34.34,0,0,0-.29.51l5.06,8.43a1.54,1.54,0,0,1-2.11,2.11l-8.43-5.06a.34.34,0,0,0-.51.29l.16,9.83a1.56,1.56,0,0,1-1.54,1.57Zm-6.4-10.76A1.5,1.5,0,0,1,26.8,41l4.77,8.59a.32.32,0,0,0,.38.16.31.31,0,0,0,.25-.33L32,39.54a1.51,1.51,0,0,1,.77-1.35,1.49,1.49,0,0,1,1.55,0l8.44,5.06a.34.34,0,0,0,.46-.46L38.2,34.36a1.49,1.49,0,0,1,0-1.55A1.47,1.47,0,0,1,39.54,32l9.83.16A.29.29,0,0,0,49.7,32a.32.32,0,0,0-.16-.38L41,26.8a1.53,1.53,0,0,1,0-2.68l8.59-4.78A.31.31,0,0,0,49.7,19a.32.32,0,0,0-.32-.25h0l-9.83.17h0a1.54,1.54,0,0,1-1.32-2.33l5.06-8.43a.33.33,0,0,0,0-.41.32.32,0,0,0-.41,0l-8.44,5.06A1.54,1.54,0,0,1,32,11.37l.16-9.83A.32.32,0,0,0,32,1.21a.33.33,0,0,0-.38.16L26.8,10a1.53,1.53,0,0,1-2.68,0l-4.78-8.6A.32.32,0,0,0,19,1.21a.33.33,0,0,0-.25.33l.17,9.83a1.54,1.54,0,0,1-2.33,1.35L8.12,7.66a.34.34,0,0,0-.46.46l5.06,8.43a1.53,1.53,0,0,1,0,1.56,1.58,1.58,0,0,1-1.36.77l-9.83-.17a.4.4,0,0,0-.33.25.32.32,0,0,0,.16.38L10,24.12a1.51,1.51,0,0,1,.79,1.34A1.54,1.54,0,0,1,10,26.8l-8.6,4.77a.33.33,0,0,0-.16.38.32.32,0,0,0,.33.25h0L11.37,32h0a1.54,1.54,0,0,1,1.32,2.32L7.66,42.8a.32.32,0,0,0,0,.41.33.33,0,0,0,.41,0l8.43-5.06a1.54,1.54,0,0,1,2.33,1.34l-.17,9.83a.32.32,0,0,0,.25.33.31.31,0,0,0,.38-.16L24.12,41A1.49,1.49,0,0,1,25.46,40.16Z"></path><path d="M20,23.23A3.19,3.19,0,1,1,23.23,20,3.19,3.19,0,0,1,20,23.23Zm0-5.17a2,2,0,1,0,2,2A2,2,0,0,0,20,18.06Z"></path><path d="M30.87,34.06a3.19,3.19,0,1,1,3.19-3.19A3.19,3.19,0,0,1,30.87,34.06Zm0-5.17a2,2,0,1,0,2,2A2,2,0,0,0,30.87,28.89Z"></path><rect x="15.37" y="24.86" width="20.01" height="1.2" transform="translate(-10.22 30.45) rotate(-53.07)"></rect></g></g></svg>
                                    </div>
                                {% endif %}
                            </td>
                        </tr>
                        {% endfor %}
                    </table>                
                </div>
            </div>
        </div>
    </div>

{% endblock %}